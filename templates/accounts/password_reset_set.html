<!-- templates/accounts/password_reset_set.html -->
{% extends "accounts/base.html" %}
{% block title %}Folder Fix - Set New Password{% endblock %}

{% block content %}
<section role="region" aria-labelledby="setPwdTitle">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-5">
        <div class="common-card shadow-sm">
          <div class="card-body p-4">
            <h4 class="mb-4 text-center fw-bold" id="setPwdTitle">
              <i class="bi bi-lock-fill text-primary me-2" aria-hidden="true"></i>
              Choose a new password
            </h4>

            <form method="post" novalidate role="form" aria-labelledby="setPwdTitle">
              {% csrf_token %}

              <!-- New password -->
              <div class="mb-3 form-group">
                <div class="input-group">
                  <span class="input-group-text text-primary">
                    <i class="bi bi-key-fill" aria-hidden="true"></i>
                  </span>
                  {{ form.new_password1 }}
                </div>
                {% if form.new_password1.errors %}
                  <div class="text-danger small mt-1" role="alert">
                    <i class="bi bi-exclamation-circle me-1" aria-hidden="true"></i>
                    {{ form.new_password1.errors|striptags }}
                  </div>
                {% endif %}
              </div>

              <!-- Confirm password -->
              <div class="mb-3 form-group">
                <div class="input-group">
                  <span class="input-group-text text-primary">
                    <i class="bi bi-shield-lock-fill" aria-hidden="true"></i>
                  </span>
                  {{ form.new_password2 }}
                </div>
                {% if form.new_password2.errors %}
                  <div class="text-danger small mt-1" role="alert">
                    <i class="bi bi-exclamation-circle me-1" aria-hidden="true"></i>
                    {{ form.new_password2.errors|striptags }}
                  </div>
                {% endif %}
              </div>


              <button type="submit" class="btn btn-primary w-100" aria-label="Update your password">
                <i class="bi bi-check-circle-fill me-2" aria-hidden="true"></i>
                Update Password
              </button>
            </form>

            <p class="small text-muted mt-3 text-center">
              <i class="bi bi-info-circle me-1" aria-hidden="true"></i>
              Password must be at least 8 characters, and include numbers or special characters.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
