<script>
  document.addEventListener("DOMContentLoaded", function () {
    const searchInput = document.getElementById("searchInput");
    const categorySelect = document.getElementById("categorySelect");
    const priceRange = document.getElementById("priceRange");
    const priceRangeLabel = document.getElementById("priceRangeLabel");
    const productItems = document.querySelectorAll(".product-item");
  
    // Set default price value to max at page load
    priceRange.value = priceRange.max;
    priceRangeLabel.textContent = `0 - ${priceRange.value}`;
  
    function filterProducts() {
      const searchTerm = searchInput.value.toLowerCase();
      const categoryId = categorySelect.value;
      const maxPrice = parseFloat(priceRange.value);
  
      productItems.forEach(item => {
        const name = item.dataset.name;
        const category = item.dataset.category;
        const price = parseFloat(item.dataset.price);
  
        const matchesSearch = name.includes(searchTerm);
        const matchesCategory = categoryId === "all" || category === categoryId;
        const matchesPrice = !isNaN(price) && price <= maxPrice;
  
        item.style.display = (matchesSearch && matchesCategory && matchesPrice)
          ? ""
          : "none";
      });
    }
  
    // Event listeners
    priceRange.addEventListener("input", () => {
      priceRangeLabel.textContent = `0 - ${priceRange.value}`;
      filterProducts();
    });
    searchInput.addEventListener("input", filterProducts);
    categorySelect.addEventListener("change", filterProducts);
  
    // Initial filter
    filterProducts();
  });
  </script>
  